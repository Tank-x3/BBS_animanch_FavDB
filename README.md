# あにまん掲示板 お気に入りスレッドDBツール

あにまん掲示板の「個人設定」ページに記録されているお気に入りスレッド情報を抽出し、データベースファイル（`fav_database.json`）としてバックアップ・管理するためのウェブツールセットです。
ブラウザのCookieに依存しているお気に入り情報を、ファイルとして長期保存や端末間移行ができる形式に変換します。

## 概要

本ツールはGitHub Pages等でホスティングされたウェブページとして利用します。
ルートフォルダの `index.html` がポータルページとなっており、そこから各ツールへアクセスします。

**主な構成:**
1.  **Importer (抽出ツール)**: 保存した「個人設定」ページからお気に入り情報を抽出し、JSONデータベースを作成・統合します。
2.  **Editor (編集ツール)**: 作成したJSONデータベースを閲覧・編集・整理します。

---

## 事前準備（必須）

本ツールを利用する前に、あにまん掲示板からデータを手元に用意する必要があります。

1.  あにまん掲示板の **「個人設定」ページ** を開きます（ここにお気に入りのスレッド一覧が表示されています）。
2.  ブラウザの機能で **「名前を付けてページを保存」** を行います。
    *   保存形式は「Webページ、完全 (HTML)」または「単一ファイル (MHT/MHTML)」を選択してください。
    *   PC、スマートフォンのどちらから保存したファイルでも利用可能です。

---

## 基本的な使用方法

### 1. Importer (抽出ツール)
お気に入り情報を抽出し、データベースを作成または更新します。

1.  ポータルページ (`index.html`) から **「抽出ツールを開く」** を選択します。
2.  **既存DBの読み込み**（任意）:
    *   既に作成済みの `fav_database.json` がある場合は、画面上の「データベースファイル」エリアをクリックしてファイルを選択するか、ドラッグ＆ドロップで読み込みます。
3.  **追加するファイルの読み込み**:
    *   事前準備で保存した **「個人設定ページ」のHTML/MHTファイル**、または **本ツールで作成したJSONデータベースファイル** を、「追加するファイル」エリアをクリックして選択するか、ドラッグ＆ドロップで読み込みます。
    *   **JSON同士のマージも可能**: 例えば、スマホで抽出したJSONデータをPCに送り、PC上のデータベースと統合するといった使い方が可能です（HTML/MHTよりファイルサイズが軽く、データの受け渡しに便利です）。
    *   複数のファイルを選択して、一度にまとめて取り込むことも可能です。
4.  **結合してダウンロード**:
    *   内容が解析されるとボタンが有効になります。クリックすると、統合された新しい `fav_database.json` がダウンロードされます。

### 2. Editor (編集ツール)
データベースの内容を閲覧し、整理します。

1.  ポータルページ (`index.html`) から **「編集ツールを開く」** を選択します。
2.  **DBの読み込み**:
    *   画面中央をクリックして `fav_database.json` を選択するか、ファイルをドラッグ＆ドロップして読み込みます。
3.  **閲覧・整理**:
    *   取り込んだお気に入りスレッドが一覧表示されます。
    *   検索、タグ付け、説明文の追記などを行い、自分だけのリンク集として整理できます。
4.  **保存**:
    *   編集後は画面右上の「保存 (JSON)」ボタンからファイルを保存し、最新の状態をバックアップしてください。

---

## 機能リスト

### Importer (抽出ツール)
*   **ファイル読み込み**
    *   JSONデータベース (`fav_database.json`) の読み込み
    *   あにまん掲示板「個人設定」ページファイル（.html, .htm, .mht, .mhtml）の読み込み
    *   **追加マージ用JSONファイル** の読み込み（複数DBの統合）
    *   クリックによるファイル選択ウィンドウ、またはドラッグ＆ドロップによる読み込み
*   **データ解析・統合**
    *   「個人設定」ページ内のお気に入りリストからの情報自動抽出
    *   複数ファイルの同時解析と統合
    *   URL重複の自動検知とマージ
    *   タイトルや説明文に変更・競合がある場合の解決ウィザード
*   **出力**
    *   統合データのJSON形式ダウンロード

### Editor (編集ツール)
*   **閲覧**
    *   PC向けテーブル表示 / スマホ向けカード表示の自動切り替え
    *   ページネーション機能
    *   スレッドの元URLへの直接リンク
    *   詳細情報（説明文）の開閉表示
*   **整理・編集**
    *   タイトル、説明文、日時の編集
    *   タグ管理（追加、削除、名称変更、統合）
    *   複数スレッド選択によるタグの一括編集
    *   説明文のインライン編集（クリックで直接編集）
*   **検索・フィルタ**
    *   キーワード検索（タイトル部分一致）
    *   タグによる絞り込み（AND/OR検索）
    *   未分類データの抽出
*   **出力**
    *   編集済みJSONデータのダウンロード
    *   フィルタリング結果のHTMLエクスポート
